services:
  train_pipeline:
    command:
    - python
    - -m
    - pirlib.backends.docker_batch
    - graph
    - gASV+wAAAAAAAABdlCiMDHBpcmxpYi5ncmFwaJSMC0dyYXBoT3V0cHV0lJOUKYGUfZQojARuYW1llIwIcmV0dXJuLjCUjAZpb3R5cGWUjARGSUxFlIwGc291cmNllGgBjApEYXRhU291cmNllJOUKYGUfZQojARub2RllIwFdHJhaW6UjAhzdWJncmFwaJROjAZvdXRwdXSUjAZyZXR1cm6UjAtncmFwaF9pbnB1dJROdWJ1YmgDKYGUfZQoaAaMCHJldHVybi4xlGgIjAlEQVRBRlJBTUWUaApoDCmBlH2UKGgPjAhldmFsdWF0ZZRoEU5oEowGcmV0dXJulGgUTnVidWJlLg==
    depends_on:
      train_pipeline.clean:
        condition: service_completed_successfully
      train_pipeline.evaluate:
        condition: service_completed_successfully
      train_pipeline.infer_pipeline.sentiment:
        condition: service_completed_successfully
      train_pipeline.infer_pipeline.translate_1:
        condition: service_completed_successfully
      train_pipeline.train:
        condition: service_completed_successfully
    image: pircli-build:968a7332-fddd-48f8-bafb-2771089b17e9
    volumes:
    - node_outputs:/mnt/node_outputs
    - ${INPUT_train_dataset:?err}:/mnt/graph_inputs/train_dataset
    - ${INPUT_translate_model:?err}:/mnt/graph_inputs/translate_model
    - ${INPUT_sentences:?err}:/mnt/graph_inputs/sentences
    - ${OUTPUT:?err}:/mnt/graph_outputs
  train_pipeline.clean:
    command:
    - python
    - -m
    - pirlib.backends.docker_batch
    - node
    - gASV3wEAAAAAAACMDHBpcmxpYi5ncmFwaJSMBE5vZGWUk5QpgZR9lCiMBG5hbWWUjAVjbGVhbpSMBmNvbmZpZ5R9lIwGaW5wdXRzlF2UaACMCU5vZGVJbnB1dJSTlCmBlH2UKGgFjAdkYXRhc2V0lIwGaW90eXBllIwJRElSRUNUT1JZlIwGc291cmNllGgAjApEYXRhU291cmNllJOUKYGUfZQojARub2RllE6MCHN1YmdyYXBolE6MBm91dHB1dJROjAtncmFwaF9pbnB1dJSMDXRyYWluX2RhdGFzZXSUdWJ1YmGMB291dHB1dHOUXZRoAIwKTm9kZU91dHB1dJSTlCmBlH2UKGgFjAZyZXR1cm6UaBCMCURJUkVDVE9SWZR1YmGMCmVudHJ5cG9pbnSUaACMCkVudHJ5cG9pbnSUk5QpgZR9lCiMB3ZlcnNpb26UjAJ2MZSMB2hhbmRsZXKUjBVleGFtcGxlLmV4YW1wbGU6Y2xlYW6UjAdydW50aW1llIwKcHl0aG9uOjMuOJSMB2NvZGV1cmmUTowFaW1hZ2WUjDFwaXJjbGktYnVpbGQ6OTY4YTczMzItZmRkZC00OGY4LWJhZmItMjc3MTA4OWIxN2U5lHVijAlmcmFtZXdvcmuUTnViLg==
    - gASVpAAAAAAAAABdlCiMDHBpcmxpYi5ncmFwaJSMCkdyYXBoSW5wdXSUk5QpgZR9lCiMBG5hbWWUjA10cmFpbl9kYXRhc2V0lIwGaW90eXBllIwJRElSRUNUT1JZlHViaAMpgZR9lChoBowPdHJhbnNsYXRlX21vZGVslGgIjARGSUxFlHViaAMpgZR9lChoBowJc2VudGVuY2VzlGgIjAlESVJFQ1RPUlmUdWJlLg==
    image: pircli-build:968a7332-fddd-48f8-bafb-2771089b17e9
    volumes:
    - node_outputs:/mnt/node_outputs
    - ${INPUT_train_dataset:?err}:/mnt/graph_inputs/train_dataset
  train_pipeline.evaluate:
    command:
    - python
    - -m
    - pirlib.backends.docker_batch
    - node
    - gASVVwIAAAAAAACMDHBpcmxpYi5ncmFwaJSMBE5vZGWUk5QpgZR9lCiMBG5hbWWUjAhldmFsdWF0ZZSMBmNvbmZpZ5R9lIwGaW5wdXRzlF2UKGgAjAlOb2RlSW5wdXSUk5QpgZR9lChoBYwTa3dhcmdzLnRlc3RfZGF0YXNldJSMBmlvdHlwZZSMCURJUkVDVE9SWZSMBnNvdXJjZZRoAIwKRGF0YVNvdXJjZZSTlCmBlH2UKIwEbm9kZZROjAhzdWJncmFwaJROjAZvdXRwdXSUTowLZ3JhcGhfaW5wdXSUjAlzZW50ZW5jZXOUdWJ1YmgMKYGUfZQoaAWMEmt3YXJncy5wcmVkaWN0aW9uc5RoEIwJRElSRUNUT1JZlGgSaBQpgZR9lChoF4wYaW5mZXJfcGlwZWxpbmUuc2VudGltZW50lGgYTmgZjAZyZXR1cm6UaBpOdWJ1YmWMB291dHB1dHOUXZRoAIwKTm9kZU91dHB1dJSTlCmBlH2UKGgFjAZyZXR1cm6UaBCMCURBVEFGUkFNRZR1YmGMCmVudHJ5cG9pbnSUaACMCkVudHJ5cG9pbnSUk5QpgZR9lCiMB3ZlcnNpb26UjAJ2MZSMB2hhbmRsZXKUjBhleGFtcGxlLmV4YW1wbGU6ZXZhbHVhdGWUjAdydW50aW1llIwKcHl0aG9uOjMuOJSMB2NvZGV1cmmUTowFaW1hZ2WUjDFwaXJjbGktYnVpbGQ6OTY4YTczMzItZmRkZC00OGY4LWJhZmItMjc3MTA4OWIxN2U5lHVijAlmcmFtZXdvcmuUTnViLg==
    - gASVpAAAAAAAAABdlCiMDHBpcmxpYi5ncmFwaJSMCkdyYXBoSW5wdXSUk5QpgZR9lCiMBG5hbWWUjA10cmFpbl9kYXRhc2V0lIwGaW90eXBllIwJRElSRUNUT1JZlHViaAMpgZR9lChoBowPdHJhbnNsYXRlX21vZGVslGgIjARGSUxFlHViaAMpgZR9lChoBowJc2VudGVuY2VzlGgIjAlESVJFQ1RPUlmUdWJlLg==
    depends_on:
      train_pipeline.infer_pipeline.sentiment:
        condition: service_completed_successfully
    image: pircli-build:968a7332-fddd-48f8-bafb-2771089b17e9
    volumes:
    - node_outputs:/mnt/node_outputs
    - ${INPUT_sentences:?err}:/mnt/graph_inputs/sentences
  train_pipeline.infer_pipeline.sentiment:
    command:
    - python
    - -m
    - pirlib.backends.docker_batch
    - node
    - gASVUgIAAAAAAACMDHBpcmxpYi5ncmFwaJSMBE5vZGWUk5QpgZR9lCiMBG5hbWWUjBhpbmZlcl9waXBlbGluZS5zZW50aW1lbnSUjAZjb25maWeUfZSMBmlucHV0c5RdlChoAIwJTm9kZUlucHV0lJOUKYGUfZQoaAWMBW1vZGVslIwGaW90eXBllIwERklMRZSMBnNvdXJjZZRoAIwKRGF0YVNvdXJjZZSTlCmBlH2UKIwEbm9kZZSMBXRyYWlulIwIc3ViZ3JhcGiUTowGb3V0cHV0lIwGcmV0dXJulIwLZ3JhcGhfaW5wdXSUTnVidWJoDCmBlH2UKGgFjAlzZW50ZW5jZXOUaBCMCURJUkVDVE9SWZRoEmgUKYGUfZQoaBeMGmluZmVyX3BpcGVsaW5lLnRyYW5zbGF0ZV8xlGgZTmgajAZyZXR1cm6UaBxOdWJ1YmWMB291dHB1dHOUXZRoAIwKTm9kZU91dHB1dJSTlCmBlH2UKGgFjAZyZXR1cm6UaBCMCURJUkVDVE9SWZR1YmGMCmVudHJ5cG9pbnSUaACMCkVudHJ5cG9pbnSUk5QpgZR9lCiMB3ZlcnNpb26UjAJ2MZSMB2hhbmRsZXKUjBlleGFtcGxlLmV4YW1wbGU6c2VudGltZW50lIwHcnVudGltZZSMCnB5dGhvbjozLjiUjAdjb2RldXJplE6MBWltYWdllIwxcGlyY2xpLWJ1aWxkOjk2OGE3MzMyLWZkZGQtNDhmOC1iYWZiLTI3NzEwODliMTdlOZR1YowJZnJhbWV3b3JrlE51Yi4=
    - gASVpAAAAAAAAABdlCiMDHBpcmxpYi5ncmFwaJSMCkdyYXBoSW5wdXSUk5QpgZR9lCiMBG5hbWWUjA10cmFpbl9kYXRhc2V0lIwGaW90eXBllIwJRElSRUNUT1JZlHViaAMpgZR9lChoBowPdHJhbnNsYXRlX21vZGVslGgIjARGSUxFlHViaAMpgZR9lChoBowJc2VudGVuY2VzlGgIjAlESVJFQ1RPUlmUdWJlLg==
    depends_on:
      train_pipeline.infer_pipeline.translate_1:
        condition: service_completed_successfully
      train_pipeline.train:
        condition: service_completed_successfully
    image: pircli-build:968a7332-fddd-48f8-bafb-2771089b17e9
    volumes:
    - node_outputs:/mnt/node_outputs
  train_pipeline.infer_pipeline.translate_1:
    command:
    - python
    - -m
    - pirlib.backends.docker_batch
    - node
    - gASVSgIAAAAAAACMDHBpcmxpYi5ncmFwaJSMBE5vZGWUk5QpgZR9lCiMBG5hbWWUjBppbmZlcl9waXBlbGluZS50cmFuc2xhdGVfMZSMBmNvbmZpZ5R9lIwDa2V5lIwFdmFsdWWUc4wGaW5wdXRzlF2UKGgAjAlOb2RlSW5wdXSUk5QpgZR9lChoBYwGYXJncy4wlIwGaW90eXBllIwERklMRZSMBnNvdXJjZZRoAIwKRGF0YVNvdXJjZZSTlCmBlH2UKIwEbm9kZZROjAhzdWJncmFwaJROjAZvdXRwdXSUTowLZ3JhcGhfaW5wdXSUjA90cmFuc2xhdGVfbW9kZWyUdWJ1YmgOKYGUfZQoaAWMBmFyZ3MuMZRoEowJRElSRUNUT1JZlGgUaBYpgZR9lChoGU5oGk5oG05oHIwJc2VudGVuY2VzlHVidWJljAdvdXRwdXRzlF2UaACMCk5vZGVPdXRwdXSUk5QpgZR9lChoBYwGcmV0dXJulGgSjAlESVJFQ1RPUlmUdWJhjAplbnRyeXBvaW50lGgAjApFbnRyeXBvaW50lJOUKYGUfZQojAd2ZXJzaW9ulIwCdjGUjAdoYW5kbGVylIwZZXhhbXBsZS5leGFtcGxlOnRyYW5zbGF0ZZSMB3J1bnRpbWWUjApweXRob246My44lIwHY29kZXVyaZROjAVpbWFnZZSMMXBpcmNsaS1idWlsZDo5NjhhNzMzMi1mZGRkLTQ4ZjgtYmFmYi0yNzcxMDg5YjE3ZTmUdWKMCWZyYW1ld29ya5ROdWIu
    - gASVpAAAAAAAAABdlCiMDHBpcmxpYi5ncmFwaJSMCkdyYXBoSW5wdXSUk5QpgZR9lCiMBG5hbWWUjA10cmFpbl9kYXRhc2V0lIwGaW90eXBllIwJRElSRUNUT1JZlHViaAMpgZR9lChoBowPdHJhbnNsYXRlX21vZGVslGgIjARGSUxFlHViaAMpgZR9lChoBowJc2VudGVuY2VzlGgIjAlESVJFQ1RPUlmUdWJlLg==
    image: pircli-build:968a7332-fddd-48f8-bafb-2771089b17e9
    volumes:
    - node_outputs:/mnt/node_outputs
    - ${INPUT_translate_model:?err}:/mnt/graph_inputs/translate_model
    - ${INPUT_sentences:?err}:/mnt/graph_inputs/sentences
  train_pipeline.train:
    command:
    - python
    - -m
    - pirlib.backends.docker_batch
    - node
    - gASVJQIAAAAAAACMDHBpcmxpYi5ncmFwaJSMBE5vZGWUk5QpgZR9lCiMBG5hbWWUjAV0cmFpbpSMBmNvbmZpZ5R9lIwGaW5wdXRzlF2UaACMCU5vZGVJbnB1dJSTlCmBlH2UKGgFjAdkYXRhc2V0lIwGaW90eXBllIwJRElSRUNUT1JZlIwGc291cmNllGgAjApEYXRhU291cmNllJOUKYGUfZQojARub2RllIwFY2xlYW6UjAhzdWJncmFwaJROjAZvdXRwdXSUjAZyZXR1cm6UjAtncmFwaF9pbnB1dJROdWJ1YmGMB291dHB1dHOUXZRoAIwKTm9kZU91dHB1dJSTlCmBlH2UKGgFjAZyZXR1cm6UaBCMBEZJTEWUdWJhjAplbnRyeXBvaW50lGgAjApFbnRyeXBvaW50lJOUKYGUfZQojAd2ZXJzaW9ulIwCdjGUjAdoYW5kbGVylIwVZXhhbXBsZS5leGFtcGxlOnRyYWlulIwHcnVudGltZZSMCnB5dGhvbjozLjiUjAdjb2RldXJplE6MBWltYWdllIwxcGlyY2xpLWJ1aWxkOjk2OGE3MzMyLWZkZGQtNDhmOC1iYWZiLTI3NzEwODliMTdlOZR1YowJZnJhbWV3b3JrlGgAjAlGcmFtZXdvcmuUk5QpgZR9lChoBYwHYWRhcHRkbJRoB32UKIwMbWluX3JlcGxpY2FzlEsBjAxtYXhfcmVwbGljYXOUSwR1dWJ1Yi4=
    - gASVpAAAAAAAAABdlCiMDHBpcmxpYi5ncmFwaJSMCkdyYXBoSW5wdXSUk5QpgZR9lCiMBG5hbWWUjA10cmFpbl9kYXRhc2V0lIwGaW90eXBllIwJRElSRUNUT1JZlHViaAMpgZR9lChoBowPdHJhbnNsYXRlX21vZGVslGgIjARGSUxFlHViaAMpgZR9lChoBowJc2VudGVuY2VzlGgIjAlESVJFQ1RPUlmUdWJlLg==
    depends_on:
      train_pipeline.clean:
        condition: service_completed_successfully
    image: pircli-build:968a7332-fddd-48f8-bafb-2771089b17e9
    volumes:
    - node_outputs:/mnt/node_outputs
version: '3.9'
volumes:
  node_outputs: {}
